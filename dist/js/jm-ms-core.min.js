!function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(u)return u(o,!0);throw new Error("Cannot find module '"+o+"'")}var s=r[o]={exports:{}};t[o][0].call(s.exports,function(e){var r=t[o][1][e];return i(r||e)},s,s.exports,e,t,r,n)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=900;r.default={FA_INVALIDTYPE:{err:n++,msg:"invalid type"}},t.exports=r.default},{}],2:[function(e,t,r){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=i(e("jm-err")),a=i(e("jm-event")),f=i(e("jm-module")),s=i(e("./utils")),l=i(e("./router")),c=i(e("./err")),d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o.default.enableErr(this),f.default.enableModule(this),this.utils=s.default,this.clientModules={},this.serverModules={}}return u(e,[{key:"router",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=new l.default(e);return r.proxy=function(e,n,i,u){var a=e;if("string"==typeof e?(a={uri:e,target:n},"boolean"==typeof i?a.changeOrigin=i:i&&"function"==typeof i&&(u=i)):u=n,a||(a={}),u||(u=function(e,t){if(e)throw e}),!a.target){var f=o.default.Err.FA_PARAMS,s=o.default.err(f);u(s,f)}this.emit("proxy",a),"string"==typeof a.target&&(a.target={uri:a.target}),a.changeOrigin?t.client(a.target,function(e,t){if(e)return u(e,t);r.use(a.uri,function(e,r){t.request(e,r)}),u(e,t)}):t.proxy(a.target,function(e,t){if(e)return u(e,t);r.use(a.uri,t),u(e,t)})},r}},{key:"client",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=null,n=null,i="http";e.uri&&(i=s.default.getUriProtocol(e.uri)),e.type&&(i=e.type),i=i.toLowerCase();var u=this.clientModules[i];return u?u(e,function(e,r){e||s.default.enableType(r,["get","post","put","delete"]),t&&t(e,r)}):(n=c.default.FA_INVALIDTYPE,r=o.default.err(n),t&&t(r,n)),this}},{key:"server",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=null,i=null,u="http";t.uri&&(u=s.default.getUriProtocol(t.uri)),t.type&&(u=t.type),u=u.toLowerCase();var a=this.serverModules[u];return a?(e.emit("server",t),a(e,t,r)):(i=c.default.FA_INVALIDTYPE,n=o.default.err(i),r&&r(n,i)),this}},{key:"proxy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=null,n=null;if("string"==typeof e&&(e={uri:e}),!e.uri&&(n=o.default.Err.FA_PARAMS,r=o.default.err(n),!t))throw r;var i=this.router();return this.client(e,function(e,r){if(e)return t(e,r);i.use(function(e,t){r.request(e,t)}),i.client=r,t&&t(null,i)}),i}}]),e}();if(void 0!==n&&n){n.jm||(n.jm={});var p=n.jm;if(!p.ms){var v=new d;p.ms=function(e){return v.router(e)};var h=p.ms;a.default.enableEvent(h),h.root=v,h.proxy=function(e,t){return v.proxy(e,t),h},h.client=function(e,t){return v.client(e,t),h},h.server=function(e,t){return v.server(e,t),h}}}r.default=d,t.exports=r.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./err":1,"./router":4,"./utils":5,"jm-err":6,"jm-event":9,"jm-module":10}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(e("path-to-regexp")),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uri=t.uri||"/",this.type=t.type,this._fns=[],this.keys=[],t.router&&(this.router=t.router),this.regexp=(0,i.default)(this.uri,this.keys,t),"/"===this.uri&&!1===t.end&&(this.regexp.fast_slash=!0),void 0===this.type&&(this.allType=!0);var r=t.fn;Array.isArray(r)||(r=[r]);for(var n=0;n<r.length;n++){var u=r[n];if("function"!=typeof u){var o="requires callback functions but got a "+toString.call(u);throw new TypeError(o)}this._fns.push(u)}}return n(e,[{key:"handle",value:function(e,t,r){function n(o,a){if(o)return"route"===o?r():t(o,a);var f=u[i++];if(!f)return r(o);try{f(e,t,n)}catch(o){n(o)}}var i=0,u=this.fns;if(0===u.length)return r();n()}},{key:"match",value:function(e,t){if(this.params=void 0,this.uri=void 0,t&&(t=t.toLowerCase()),t!==this.type&&!this.allType)return!1;if(null===e||void 0===e)return!1;if(this.regexp.fast_slash)return this.params={},this.uri="",!0;var r=this.regexp.exec(e);if(!r)return!1;this.params={},this.uri=r[0];for(var n=this.keys,i=this.params,u=1;u<r.length;u++){i[n[u-1].name]=r[u]}return!0}},{key:"fns",get:function(){return this._fns}}]),e}();r.default=u,t.exports=r.default},{"path-to-regexp":12}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=n(e("./route")),a=n(e("./utils")),f=n(e("jm-err")),s=n(e("jm-event")),l=f.default.Err,c=f.default.err(l.FA_NOTFOUND),d=function(e,t){},p=Array.prototype.slice,v=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._routes=[],["mergeParams","sensitive","strict"].forEach(function(e){r[e]&&(t[e]=r[e])}),a.default.enableType(this,["get","post","put","delete"]),s.default.enableEvent(this)}return u(e,[{key:"clear",value:function(){return this._routes=[],this}},{key:"_add",value:function(e,t){var r=null,n=null;if((e=e||{}).uri&&e.fn){this.emit("add",e);var i={};for(var u in e)i[u]=e[u];void 0===i.mergeParams&&(i.mergeParams=this.mergeParams),void 0===i.sensitive&&(i.sensitive=this.sensitive),void 0===i.strict&&(i.strict=this.strict),this._routes.push(new o.default(i))}else if(n=l.FA_PARAMS,r=f.default.err(n),!t)throw r;return t&&t(r,n),this}},{key:"add",value:function(e,t){return"string"==typeof e&&(e={uri:e},"string"==typeof t?(e.type=t,Array.isArray(arguments[2])?e.fn=arguments[2]:e.fn=p.call(arguments,2)):Array.isArray(t)?e.fn=t:e.fn=p.call(arguments,1),t=null),this._add(e,t)}},{key:"_use",value:function(t,r){var n=null,u=null;if((t=t||{})&&t instanceof e&&(t={fn:t}),t.fn){if(this.emit("use",t),t.strict=!1,t.end=!1,t.uri=t.uri||"/",t.fn instanceof e){var o=t.fn;t.router=o,t.fn=function(e,t,r){o.handle(e,t,r)}}else if("object"===i(t.fn)){var a=t.fn;a.request?(t.router=a,t.fn=function(e,t,r){a.request(e,function(e,n){t(e,n),r()})}):a.handle&&(t.router=a,t.fn=function(e,t,r){a.handle(e,t,r)})}return this._add(t,r)}if(u=l.FA_PARAMS,n=f.default.err(u),!r)throw n;return r&&r(n,u),this}},{key:"use",value:function(e,t){return"string"==typeof e?(e={uri:e},"object"===(void 0===t?"undefined":i(t))?e.fn=t:e.fn=p.call(arguments,1),t=null):"function"==typeof e?(e={fn:p.call(arguments,0)},t=null):Array.isArray(e)?(e={fn:e},t=null):"object"===(void 0===e?"undefined":i(e))&&(e.fn||(e={fn:e})),this._use(e,t)}},{key:"request",value:function(e,t){if("object"===(void 0===e?"undefined":i(e)))return this.handle(e,t||d);var r=a.default.preRequest.apply(this,arguments);return this.handle(r.opts,r.cb||d)}},{key:"handle",value:function(e,t,r){function n(i,u){if(i)return"route"===i?r():v(i,u);if(t.done)return v();if(e.baseUri=p,e.uri=h,f>=s.length)return v();for(var o=!1,a=void 0;!o&&f<s.length;)if(a=s[f++])try{o=a.match(e.uri,e.type)}catch(i){return v(i,l.FA_BADREQUEST)}if(!o)return v();e.params={};for(var c in d)e.params[c]=d[c];for(var y in a.params)e.params[y]=a.params[y];a.router&&(e.baseUri=p+a.uri,e.uri=e.uri.replace(a.uri,"")),a.handle(e,t,n)}if(!r){var i=e,u=t;e={};for(var o in i)e[o]=i[o];t=function(e,r){t.done||(t.done=!0,u(e,r))},r=function(e,r){t(e||c,r||l.FA_NOTFOUND)}}var a=this,f=0,s=a.routes,d=e.params,p=e.baseUri||"",v=function(e,t,r,n){return function(i,u){return t.baseUri=r,t.params=n,e&&e(i,u),a}}(r,e,e.baseUri,e.params);e.originalUri||(e.originalUri=e.uri);var h=e.uri;return n(),a}},{key:"routes",get:function(){return this._routes}}]),e}();r.default=v,t.exports=r.default},{"./route":3,"./utils":5,"jm-err":6,"jm-event":9}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){return e&&e.__esModule?e:{default:e}}(e("jm-utils")).default.utils;i.enableType=function(e,t){Array.isArray(t)||(t=[t]),t.forEach(function(t){"undefined"!=typeof Promise?e[t]=function(r,n,u,o,a){var f=r;if("string"==typeof r){var s=i.preRequest.apply(this,arguments);f=s.opts,a=s.cb}else a=n;return f.type=t,a?(this[t](f).then(function(e){a(null,e)}).catch(function(e){a(e)}),this):new Promise(function(t,r){e.request(f,function(e,n){if(e&&!n)return r(e);t(n)})})}:e[t]=function(r,n,i,u,o){return"string"==typeof r?e.request(r,t,n,i,u,o):(r.type=t,e.request(r,n))}})},i.preRequest=function(e,t,r,u,o,a){if("string"!=typeof e)return{opts:e,cb:t};var f={uri:e},s={opts:f};return void 0===t?s:"function"==typeof t?(s.cb=t,s):"number"==typeof t?i.preRequest(e,null,null,null,t,r):t&&"object"===(void 0===t?"undefined":n(t))?i.preRequest(e,null,t,r,u,o):("string"==typeof t&&(f.type=t),void 0===r?s:"function"==typeof r?(s.cb=r,s):"number"==typeof r?i.preRequest(e,t,null,null,r,u):(r&&"object"===(void 0===r?"undefined":n(r))&&(f.data=r),void 0===u?s:"function"==typeof u?(s.cb=u,s):"number"==typeof u?i.preRequest(e,t,r,null,u,o):(u&&"object"===(void 0===u?"undefined":n(u))&&(f.params=u),void 0===o?s:"function"==typeof o?(s.cb=o,s):("number"==typeof o&&(f.timeout=o),void 0===a?s:"function"==typeof a?(s.cb=a,s):s))))},r.default=i,t.exports=r.default},{"jm-utils":11}],6:[function(e,t,r){(function(n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./locale")),u={SUCCESS:{err:0,msg:"Success"},FAIL:{err:1,msg:"Fail"},FA_SYS:{err:2,msg:"System Error"},FA_NETWORK:{err:3,msg:"Network Error"},FA_PARAMS:{err:4,msg:"Parameter Error"},FA_BUSY:{err:5,msg:"Busy"},FA_TIMEOUT:{err:6,msg:"Time Out"},FA_ABORT:{err:7,msg:"Abort"},FA_NOTREADY:{err:8,msg:"Not Ready"},FA_NOTEXISTS:{err:9,msg:"Not Exists"},FA_EXISTS:{err:8,msg:"Already Exists"},OK:{err:200,msg:"OK"},FA_BADREQUEST:{err:400,msg:"Bad Request"},FA_NOAUTH:{err:401,msg:"Unauthorized"},FA_NOPERMISSION:{err:403,msg:"Forbidden"},FA_NOTFOUND:{err:404,msg:"Not Found"},FA_INTERNALERROR:{err:500,msg:"Internal Server Error"},FA_UNAVAILABLE:{err:503,msg:"Service Unavailable"}};u.t=i.default;var o=function(e,t){if(t)for(var r in t)e=e.split("${"+r+"}").join(t[r]);return e},a=function(e,t){"string"==typeof e&&(e={msg:e});var r=o(e.msg,t),n=new Error(r);return e.err&&(n.code=e.err),n},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Err";return!e[t]&&(e[t]=u,e.err=a,e.errMsg=o,!0)},s={Err:u,errMsg:o,err:a,enableErr:f,disableErr:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Err";e[t]&&(delete e[t],delete e.err,delete e.errMsg)}};if(void 0!==n&&n){n.jm||(n.jm={});var l=n.jm;if(!l.enableErr){f(l);for(var c in s)l[c]=s[c]}}r.default=s,t.exports=r.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./locale":7}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){return t&&n[t]?n[t][e]:null};var n={zh_CN:function(e){return e&&e.__esModule?e:{default:e}}(e("./zh_CN")).default};t.exports=r.default},{"./zh_CN":8}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={Success:"成功",Fail:"失败","System Error":"系统错误","Network Error":"网络错误","Parameter Error":"参数错误",Busy:"忙","Time Out":"超时",Abort:"中止","Not Ready":"未准备好","Not Exists":"不存在","Already Exists":"已存在",OK:"OK","Bad Request":"错误请求",Unauthorized:"未验证",Forbidden:"无权限","Not Found":"未找到","Internal Server Error":"服务器内部错误","Service Unavailable":"无效服务"},t.exports=r.default},{}],9:[function(e,t,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events={}}return n(e,[{key:"on",value:function(e,t,r){return this._events[e]||(this._events[e]=[]),r?this._events[e].unshift(t):this._events[e].push(t),this}},{key:"once",value:function(e,t,r){var n=this;return this.on(e,function r(i,u,o,a,f){n.off(e,r),t(i,u,o,a,f)},r)}},{key:"off",value:function(e,t){if(t){if(this._events&&this._events[e])for(var r=this._events[e],n=0;n<r.length;n++)if(t===r[n]){r.splice(n,1),r.length||delete this._events[e];break}}else void 0===e?this._events={}:this._events&&this._events[e]&&delete this._events[e];return this}},{key:"emit",value:function(e,t,r,n,i,u){for(var o=this.listeners(e),a=0;a<o.length;a++){if(!1===(0,o[a])(t,r,n,i,u))break}return this}},{key:"eventNames",value:function(){return Object.keys(this._events)}},{key:"listeners",value:function(e){var t=this._events[e];if(!t)return[];for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n];return r}}]),e}(),u=i.prototype,o={_events:{},on:u.on,once:u.once,off:u.off,emit:u.emit,eventNames:u.eventNames,listeners:u.listeners},a=function(e){if(void 0!==e.emit)return!1;for(var t in o)e[t]=o[t];return e._events={},!0},f=function(e){if(void 0!==e.emit)for(var t in o)delete e[t]},s={EventEmitter:i,enableEvent:a,disableEvent:f,moduleEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"event",t=this;return t.enableEvent=a,t.disableEvent=f,{name:e,unuse:function(){delete t.enableEvent,delete t.disableEvent}}}};if(void 0!==e&&e){e.jm||(e.jm={});var l=e.jm;if(!l.EventEmitter)for(var c in s)l[c]=s[c]}r.default=s,t.exports=r.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modules={}}return n(e,[{key:"use",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e.apply(this,r);return i&&i.name&&(this._modules[i.name]=i),this}},{key:"unuse",value:function(e){var t=e;return"string"==typeof t&&(t=this._modules[t]),t&&t.unuse&&(t.name&&delete this._modules[t.name],t.unuse()),this}},{key:"modules",get:function(){return this._modules}}]),e}(),u=i.prototype,o={_modules:{},use:u.use,unuse:u.unuse},a=function(e){if(void 0!==e.use)return!1;for(var t in o)e[t]=o[t];return e._modules={},Object.defineProperty(e,"modules",{value:e._modules,writable:!1}),!0},f={Modulable:i,enableModule:a,disableModule:function(e){if(void 0!==e.use)for(var t in o)delete e[t]}};if(void 0!==e&&e){e.jm||(e.jm={});var s=e.jm;if(!s.enableModule){for(var l in f)s[l]=f[l];a(s)}}r.default=f,t.exports=r.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={slice:function(e,t,r){t=t||0,r=r||e.length,t<0&&(t+=e.length),r<0&&(r+=e.length);for(var n=new Array(r-t),i=t;i<r;i++)n[i-t]=e[i];return n},formatJSON:function(e){return JSON.stringify(e,null,2)},getUriProtocol:function(e){return e?e.substring(0,e.indexOf(":")):null},getUriPath:function(e){var t=e.indexOf("//");return-1==t?"":-1==(t=e.indexOf("/",t+2))?"":(e=e.substr(t),-1==(t=e.indexOf("#"))&&(t=e.indexOf("?")),-1!=t&&(e=e.substr(0,t)),e)}},i={utils:n,moduleUtils:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utils",t=this;return t[e]=n,{name:e,unuse:function(){delete t[e]}}}};if(void 0!==e&&e){e.jm||(e.jm={});var u=e.jm;if(!u.utils)for(var o in i)u[o]=i[o]}r.default=i,t.exports=r.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,r){function n(e,t){for(var r,n=[],i=0,u=0,o="",f=t&&t.delimiter||"/";null!=(r=p.exec(e));){var s=r[0],l=r[1],c=r.index;if(o+=e.slice(u,c),u=c+s.length,l)o+=l[1];else{var d=e[u],v=r[2],h=r[3],y=r[4],m=r[5],g=r[6],b=r[7];o&&(n.push(o),o="");var _=null!=v&&null!=d&&d!==v,E="+"===g||"*"===g,w="?"===g||"*"===g,A=r[2]||f,x=y||m;n.push({name:h||i++,prefix:v||"",delimiter:A,optional:w,repeat:E,partial:_,asterisk:!!b,pattern:x?function(e){return e.replace(/([=!:$\/()])/g,"\\$1")}(x):b?".*":"[^"+a(A)+"]+?"})}}return u<e.length&&(o+=e.substr(u)),o&&n.push(o),n}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function o(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var o="",a=r||{},f=(n||{}).pretty?i:encodeURIComponent,s=0;s<e.length;s++){var l=e[s];if("string"!=typeof l){var c,p=a[l.name];if(null==p){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(d(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var v=0;v<p.length;v++){if(c=f(p[v]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");o+=(0===v?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?u(p):f(p),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');o+=l.prefix+c}}else o+=l}return o}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function f(e,t){return e.keys=t,e}function s(e){return e.sensitive?"":"i"}function l(e,t,r){d(t)||(r=t||r,t=[]);for(var n=(r=r||{}).strict,i=!1!==r.end,u="",o=0;o<e.length;o++){var l=e[o];if("string"==typeof l)u+=a(l);else{var c=a(l.prefix),p="(?:"+l.pattern+")";t.push(l),l.repeat&&(p+="(?:"+c+p+")*"),u+=p=l.optional?l.partial?c+"("+p+")?":"(?:"+c+"("+p+"))?":c+"("+p+")"}}var v=a(r.delimiter||"/"),h=u.slice(-v.length)===v;return n||(u=(h?u.slice(0,-v.length):u)+"(?:"+v+"(?=$))?"),u+=i?"$":n&&h?"":"(?="+v+"|$)",f(new RegExp("^"+u,s(r)),t)}function c(e,t,r){return d(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(e,t)}(e,t):d(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(c(e[i],t,r).source);return f(new RegExp("(?:"+n.join("|")+")",s(r)),t)}(e,t,r):function(e,t,r){return l(n(e,r),t,r)}(e,t,r)}var d=e("isarray");t.exports=c,t.exports.parse=n,t.exports.compile=function(e,t){return o(n(e,t))},t.exports.tokensToFunction=o,t.exports.tokensToRegExp=l;var p=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},{isarray:13}],13:[function(e,t,r){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}]},{},[2]);